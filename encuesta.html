<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Encuesta de Satisfacción | Casa Acueducto</title>
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="public/styles-encuesta.css" />
</head>

<body>
  <!-- Sidebar Icon -->
  <img src="public/assets/icono-ajustes-negro.png" class="menu-toggle" onclick="abrirSidebar()" />

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <button class="close-btn" onclick="cerrarSidebar()">✕</button>
    <nav class="sidebar-nav">
      <a href="index.html">Inicio</a>
      <a href="menu.html">Menú</a>
      <a href="reservas.html">Reservar</a>
      <a href="info.html">Nosotros</a>
      <a href="reservas.html">Reservas</a>
    </nav>
  </div>

  <!-- Top Info -->
  <div class="info-top">
    <img src="public/assets/logo-mini.png" alt="Logo" />
    <h1>ENCUESTA DE<br><span>SATISFACCIÓN</span></h1>
  </div>

  <!-- Encuesta -->
  <main class="encuesta-container">
    <h2>Preguntas estratégicas de la<br>encuesta de satisfacción (KPIs)</h2>

    <form class="form-encuesta" id="formEncuesta">
        <h3>1. Comida</h3>
      
        <label>¿Cómo calificarías la calidad de los platillos que probaste? (1 a 5)</label>
        <select name="calidadPlatillos">
          <option disabled selected>Elige una opción</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        </select>
      
        <label>¿La presentación de la comida cumplió tus expectativas?</label>
        <select name="presentacionComida">
          <option>Sí</option><option>No</option><option>Podría mejorar</option>
        </select>
      
        <label>¿Qué te pareció la variedad del menú de desayuno y/o comida? (1 a 5)</label>
        <select name="variedadMenu">
          <option disabled selected>Elige una opción</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        </select>
      
        <h3>2. Servicio</h3>
      
        <label>¿Cómo describirías la atención recibida? (1 a 5)</label>
        <select name="atencionServicio">
          <option disabled selected>Elige una opción</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        </select>
      
        <label>¿Cómo calificarías la calidad del servicio? (1 a 5)</label>
        <select name="calidadServicio">
          <option disabled selected>Elige una opción</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        </select>
      
        <label>¿Por qué?</label>
        <textarea name="razonCalificacion" placeholder="Escribe tu respuesta..."></textarea>
      
        <label>¿El tiempo de espera fue razonable?</label>
        <select name="tiempoEspera">
          <option>Muy rápido</option><option>Adecuado</option><option>Lento</option><option>Muy lento</option>
        </select>
      
        <label>¿El personal fue amable?</label>
        <select name="personalAmable">
          <option>En todo momento</option><option>A veces</option><option>No</option>
        </select>
      
        <h3>3. Ambiente</h3>
      
        <label>¿Cómo calificarías comodidad y limpieza? (1 a 5)</label>
        <select name="comodidadLimpieza">
          <option disabled selected>Elige una opción</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        </select>
      
        <label>¿Cómo calificarías el ambiente en general? (1 a 5)</label>
        <select name="ambienteGeneral">
          <option disabled selected>Elige una opción</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        </select>
      
        <label>¿Te sentiste seguro y relajado? (1 a 5)</label>
        <select name="sensacionSeguridad">
          <option disabled selected>Elige una opción</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        </select>
      
        <h3>4. Relación Calidad–Precio</h3>
      
        <label>¿El precio corresponde con la calidad? (1 a 5)</label>
        <select name="calidadPrecio">
          <option disabled selected>Elige una opción</option>
          <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
        </select>
      
        <h3>5. Lealtad y Recomendación</h3>
      
        <label>Del 0 al 10, ¿qué tan probable es que recomiendes este lugar?</label>
        <select name="recomendacion">
          <option disabled selected>Elige una opción</option>
          <option>0</option><option>1</option><option>2</option><option>3</option><option>4</option>
          <option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
        </select>
      
        <label>¿Volverías a visitarnos?</label>
        <select name="volveriasVisitar">
          <option>Definitivamente sí</option><option>Posiblemente</option><option>No</option>
        </select>
      </form>
      

    <div class="enviar-encuesta">
        <button onclick="enviarEncuesta()">ENVIAR ENCUESTA</button>
      </div>
      
  </main>

  <!-- Footer -->
  <footer class="footer">
    Technology by Simbiosis ArtLab
  </footer>

  <!-- Sidebar JS -->
  <script>
    function abrirSidebar() {
      document.getElementById("sidebar").classList.add("active");
    }
    function cerrarSidebar() {
      document.getElementById("sidebar").classList.remove("active");
    }
  </script>

  <!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyA0M-jbprRPbhKN8G-WtOzouyxsRWUh6e0",
    authDomain: "casa-acueducto-morelia-2025.firebaseapp.com",
    databaseURL: "https://casa-acueducto-morelia-2025-default-rtdb.firebaseio.com/",
    projectId: "casa-acueducto-morelia-2025",
    storageBucket: "casa-acueducto-morelia-2025.firebasestorage.app",
    messagingSenderId: "552624655725",
    appId: "1:552624655725:web:a3886f1465d192e8f7de64",
    measurementId: "G-85N5VDQYRL"
  };

  firebase.initializeApp(firebaseConfig);
</script>


<script>
    function enviarEncuesta() {
      const form = document.getElementById('formEncuesta');
      const data = {};
  
      Array.from(form.elements).forEach(el => {
        if (el.name) {
          data[el.name] = el.value;
        }
      });
  
      firebase.database().ref("encuestas").push(data)
        .then(() => {
          alert("✅ ¡Encuesta enviada con éxito!");
          form.reset();
          window.scrollTo(0, 0);
        })
        .catch(err => {
          alert("❌ Error al enviar la encuesta: " + err.message);
        });
    }
  </script>
  
</body>
</html>